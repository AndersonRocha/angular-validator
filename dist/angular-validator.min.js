angular.module("angularValidator",[]),angular.module("angularValidator").directive("angularValidator",["$injector","$parse","$compile",function(a,b,c){var d=function(d,e,f){function g(b){return b&&"invalid-message"in b.attributes?a.get(b.attributes["invalid-message"].value):!1}function h(a){for(var b=g(a),c=0;c<a.length;c++)c in a&&i(a[c],b)}function i(a,b){"validate-on"in a.attributes&&"blur"===a.attributes["validate-on"].value&&angular.element(a).on("blur",function(){m(a,b),p(a)});var c=d.$watch(function(){return a.value+a.required+u.submitted+l(a)+j(u[a.name])+k(u[a.name])},function(){u.submitted?(m(a,b),p(a)):"validate-on"in a.attributes&&"dirty"===a.attributes["validate-on"].value?(m(a,b),p(a)):u[a.name]&&u[a.name].$pristine&&(m(a,b),p(a))});s.push(c)}function j(a){return a&&"$dirty"in a?a.$dirty:void 0}function k(a){return a&&"$valid"in a?a.$valid:void 0}function l(a){if("validator"in a.attributes){var b=d.$eval(a.attributes.validator.value);return u[a.name].$setValidity("angularValidator",b),b}}function m(a,b){var c=function(){return"<i class='fa fa-times'></i> Required"},e=function(){return"<i class='fa fa-times'></i> Invalid"};if(a.name in u){var f=u[a.name],g=o(a);g&&g.remove(),(f.$dirty||d[a.form.name]&&d[a.form.name].submitted)&&(f.$error.required?angular.element(a).after("required-message"in a.attributes?n(a.attributes["required-message"].value):n(c)):f.$valid||angular.element(a).after("invalid-message"in a.attributes?n(a.attributes["invalid-message"].value):b?n(b.message(f,a)):n(e)))}}function n(a){return"<label class='control-label has-error validationMessage'>"+d.$eval(a)+"</label>"}function o(a){for(var b=angular.element(a).parent().children(),c=0;c<b.length;c++)if(angular.element(b[c]).hasClass("validationMessage"))return angular.element(b[c]);return!1}function p(a){if(a.name in u){var b=u[a.name];angular.element(a).removeClass("has-error"),angular.element(a.parentNode).removeClass("has-error"),(b.$dirty||d[a.form.name]&&d[a.form.name].submitted)&&b.$invalid&&(angular.element(a.parentNode).addClass("has-error"),angular.element(a).addClass("has-error"))}}var q=function(){return Math.floor(1e5*Math.random())},r=!1;if(angular.forEach(e.find("input,select,textarea"),function(a){a=$(a),a.attr("name")||(a.attr("name",q()),r=!0)}),f.name||(e.attr("name","TGAV_FORM_"+q()),r=!0),r)return void c(e)(d);var s=[],t=angular.element(e)[0],u=b(f.name)(d);u.submitted=!1,h(t),d.$watch(function(){return Object.keys(u).length},function(){angular.forEach(s,function(a){a()}),h(t)}),e.on("submit",function(a){a.preventDefault(),d.$apply(function(){u.submitted=!0}),u.$valid&&d.$apply(function(){d.$eval(f["angular-validator-submit"])})}),u.reset=function(){angular.forEach(t,function(a){a.name&&(u[a.name].$setViewValue(""),u[a.name].$render())}),u.submitted=!1,u.$setPristine()}};return{restrict:"A",compile:function(){return d}}}]);var ruleRegex=/^(.+?)\[(.+)\]$/,numericRegex=/^[0-9]+$/,integerRegex=/^\-?[0-9]+$/,decimalRegex=/^\-?[0-9]*\.?[0-9]+$/,emailRegex=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,alphaRegex=/^[a-z]+$/i,alphaNumericRegex=/^[a-z0-9]+$/i,alphaDashRegex=/^[a-z0-9_\-]+$/i,naturalRegex=/^[0-9]+$/i,naturalNoZeroRegex=/^[1-9][0-9]*$/i,ipRegex=/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,base64Regex=/[^a-zA-Z0-9\/\+=]/i,numericDashRegex=/^[\d\-\s]+$/,urlRegex=/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,dateRegex=/\d{4}-\d{1,2}-\d{1,2}/,validations={url:function(){},email:function(){},emailStrict:function(){},ssn:function(){},phone:function(){},phoneUSA:function(){},passwordWeak:function(){},passwordNormal:function(){},passwordSecure:function(){},valid_credit_card:function(){}};